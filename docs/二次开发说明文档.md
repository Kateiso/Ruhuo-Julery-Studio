# 如获珠宝·智能视频工坊 二次开发说明文档

> 基于 MoneyPrinterPlus 的珠宝行业定制化改造方案
>
> **开发时间**：2025年12月26日晚 - 2025年12月27日中午
>
> **开发模式**：AI 主导开发，人工辅助审核

---

## 📋 项目概述

### 项目背景

将开源项目 **MoneyPrinterPlus** 改造为 **如获珠宝** 店铺专属的短视频生成工具，使其更美观、更易用，符合珠宝行业的高端审美需求。

### 目标用户

| 项目         | 说明                                            |
| ------------ | ----------------------------------------------- |
| **店铺名称** | 如获珠宝                                        |
| **经营者**   | 夫妻二人经营                                    |
| **技术水平** | 技术小白，需要极简操作                          |
| **使用设备** | Mac 桌面端                                      |
| **使用场景** | 拍摄珠宝 → 生成短视频 → 发布到抖音/小红书等平台 |

### 项目命名

- **产品名称**：如获珠宝·智能视频工坊
- **内部代号**：RuHuo Video Studio

### 品牌资源

- **Logo 文件**：`/logo.png`（已提供）

---

## 🎯 功能规划

### 功能架构

```
┌─────────────────────────────────────────────────────────────────┐
│                   如获珠宝·智能视频工坊                           │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌──────────────┐   ┌──────────────┐   ┌──────────────┐        │
│  │  📝 拍摄脚本  │ → │  🎬 AI视频   │ → │  📤 一键发布  │        │
│  │    生成器    │   │    生成器    │   │   (多平台)   │        │
│  └──────────────┘   └──────────────┘   └──────────────┘        │
│       [新增]            [核心]         [保留全部平台]            │
│                                                                 │
│  ┌──────────────┐   ┌──────────────┐                           │
│  │  🎞️ 批量混剪  │   │  ⚙️ 系统设置  │                           │
│  │              │   │              │                           │
│  └──────────────┘   └──────────────┘                           │
│       [保留]            [简化]                                   │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### 功能优先级

| 优先级 | 功能模块       | 状态   | 说明                                              |
| ------ | -------------- | ------ | ------------------------------------------------- |
| P0     | 拍摄脚本生成器 | 🆕 新增 | 输入珠宝主题 → 生成拍摄脚本和拍摄建议             |
| P0     | AI 视频生成器  | 🔧 优化 | 核心功能，界面重点优化对象                        |
| P1     | 一键发布       | ✅ 保留 | **保留全部平台支持**（抖音/快手/小红书/视频号等） |
| P2     | 批量混剪       | ✅ 保留 | 保留功能，UI 美化                                 |
| P2     | 系统设置       | 🔧 简化 | 预设珠宝行业配置，减少配置项                      |

---

## 🆕 新增功能：拍摄脚本生成器

### 功能描述

老板只需输入一个简单的珠宝主题（如"18K金钻石项链"），系统自动生成：

1. **拍摄脚本**：分镜头描述、拍摄角度建议
2. **文案建议**：适合短视频的文案风格
3. **配乐建议**：推荐的背景音乐风格

### 用户界面

```
┌─────────────────────────────────────────────────────────┐
│  📝 拍摄脚本生成器                                        │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  珠宝名称：[ 18K金钻石项链                    ]          │
│                                                         │
│  珠宝类型：[ 项链 ▼ ]     风格定位：[ 轻奢优雅 ▼ ]       │
│                                                         │
│  目标平台：☑ 抖音  ☑ 小红书  ☐ 视频号                   │
│                                                         │
│  视频时长：[ 30秒 ▼ ]                                    │
│                                                         │
│           [ ✨ 生成拍摄脚本 ]                            │
│                                                         │
├─────────────────────────────────────────────────────────┤
│  生成结果：                                              │
│  ┌─────────────────────────────────────────────────────┐│
│  │ 🎬 分镜脚本                                          ││
│  │ ───────────────────────────────────                  ││
│  │ 镜头1 (0-5秒)：产品全景特写，黑色背景...             ││
│  │ 镜头2 (5-12秒)：缓慢旋转，展示钻石切面...            ││
│  │ ...                                                  ││
│  └─────────────────────────────────────────────────────┘│
│           [ 📋 复制脚本 ]  [ ➡️ 开始制作视频 ]            │
└─────────────────────────────────────────────────────────┘
```

### 技术实现

- 调用现有 LLM 服务（Moonshot/GPT）
- 预设珠宝行业 Prompt 模板
- 输出结构化的拍摄脚本

---

## 🎨 视觉设计规范

### 设计理念

**现代 · 简洁 · 奢华**

- 体现珠宝行业的高端质感
- 简洁不繁杂，适合非技术用户
- 金色与深色搭配，营造奢华氛围

### 配色方案

#### 深色主题（默认推荐）

| 元素        | 颜色   | 色值      |
| ----------- | ------ | --------- |
| 背景色      | 深邃黑 | `#0D0D0D` |
| 卡片背景    | 墨灰色 | `#1A1A1A` |
| 主色调      | 金色   | `#D4AF37` |
| 辅助色      | 玫瑰金 | `#B76E79` |
| 文字主色    | 象牙白 | `#FFFFF0` |
| 文字辅色    | 银灰色 | `#A0A0A0` |
| 边框/分割线 | 暗金色 | `#3D3D3D` |

#### 浅色主题

| 元素        | 颜色   | 色值      |
| ----------- | ------ | --------- |
| 背景色      | 象牙白 | `#FAFAFA` |
| 卡片背景    | 纯白   | `#FFFFFF` |
| 主色调      | 深金色 | `#B8860B` |
| 辅助色      | 玫瑰金 | `#B76E79` |
| 文字主色    | 深灰   | `#1A1A1A` |
| 文字辅色    | 中灰   | `#666666` |
| 边框/分割线 | 浅金边 | `#E8E0D0` |

### 字体方案

| 用途      | 字体                     | 备选    |
| --------- | ------------------------ | ------- |
| 标题      | 思源宋体 (Noto Serif SC) | 宋体    |
| 正文      | 思源黑体 (Noto Sans SC)  | 苹方    |
| 英文/数字 | Playfair Display         | Georgia |

### UI 组件风格

- **按钮**：圆角矩形 (8px)，主按钮金色填充，次按钮描边
- **卡片**：轻微阴影，1px 金色描边，hover 时发光效果
- **输入框**：深底浅字，聚焦时金色底部边框
- **图标**：线性图标，金色/白色

---

## 🛠️ 技术方案

### 技术栈

| 层级     | 技术选型       | 说明                                     |
| -------- | -------------- | ---------------------------------------- |
| 前端框架 | Streamlit      | 保持现有框架，深度自定义美化             |
| 样式定制 | Custom CSS     | 通过 `.streamlit/config.toml` + 内联 CSS |
| 后端逻辑 | Python         | 保持现有架构                             |
| LLM 服务 | Moonshot / GPT | 可配置，默认预设                         |
| 语音服务 | Azure / 阿里云 | 预设珠宝行业声音                         |

### 项目结构整理

**当前结构问题**：

- 根目录文件较多，需要整理
- 缺少统一的静态资源目录
- 样式分散，需要集中管理

**整理后的结构**：

```
MoneyPrinterPlus/
├── .streamlit/
│   └── config.toml          # [修改] Streamlit 主题配置
├── assets/                   # [新增] 品牌资源目录
│   ├── logo.png             # [移动] 从根目录移入
│   ├── favicon.ico          # [新增] 网站图标
│   └── images/              # [新增] 其他图片资源
├── styles/                   # [新增] 样式目录
│   └── custom.css           # 自定义样式
├── prompts/                  # [新增] Prompt 模板目录
│   └── jewelry_script.txt   # 珠宝行业拍摄脚本 Prompt
├── config/
│   ├── config.yml           # [保留]
│   ├── config.py            # [保留]
│   └── jewelry_presets.yml  # [新增] 珠宝行业配置预设
├── pages/
│   ├── 00_script_generator.py  # [新增] 拍摄脚本生成器
│   ├── 01_auto_video.py        # [修改] UI 美化
│   ├── 02_merge_video.py       # [修改] UI 美化
│   ├── 02_mix_video.py         # [修改] UI 美化
│   ├── 03_auto_publish.py      # [修改] UI 美化，保留全部平台
│   └── common.py               # [保留] 公共组件
├── services/                # [保留] 服务层
├── bgmusic/                 # [保留] 背景音乐
├── fonts/                   # [保留] 字体
├── locales/                 # [保留] 多语言
├── docs/                    # [保留] 文档
├── final/                   # [保留] 输出目录
├── work/                    # [保留] 工作目录
├── gui.py                   # [修改] 首页改造
├── main.py                  # [保留] 核心逻辑
├── requirements.txt         # [保留]
├── start.sh                 # [保留]
├── setup.sh                 # [保留]
├── README.md                # [保留]
└── LICENSE                  # [保留]
```

**需要清理/移动的文件**：

- `logo.png` → `assets/logo.png`
- `group.jpg` → `assets/images/group.jpg`（或删除）
- `auto_video_publish.gif` → `assets/images/` 或 `docs/`

### 珠宝行业预设配置

```yaml
# config/jewelry_presets.yml

# 文案风格预设
copywriting:
  tone: "优雅、精致、轻奢"
  keywords: ["璀璨", "永恒", "匠心", "臻选", "限定"]
  avoid: ["便宜", "打折", "低价"]

# 配音预设
voice:
  provider: "azure"
  voice_name: "zh-CN-XiaoxiaoNeural"  # 温柔女声
  speed: 0.9  # 略慢，更有质感
  
# 视频风格预设
video:
  transition: "fade"  # 淡入淡出，优雅过渡
  fps: 30
  min_clip_duration: 3
  max_clip_duration: 6

# 字幕预设
subtitle:
  font: "思源宋体"
  size: 42
  color: "#FFFFFF"
  stroke_color: "#000000"
  position: "bottom"

# 背景音乐预设
bgm:
  style: "轻音乐/钢琴曲"
  volume: 0.3
```

---

## 📐 界面布局设计

### 首页布局

```
┌─────────────────────────────────────────────────────────────────┐
│  [Logo]  如获珠宝·智能视频工坊              [🌙/☀️ 主题切换]    │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│                    欢迎回来，如获珠宝                            │
│                 让每一件珠宝都闪耀在镜头前                       │
│                                                                 │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│   ┌─────────────┐  ┌─────────────┐  ┌─────────────┐            │
│   │     📝      │  │     🎬      │  │     📤      │            │
│   │  拍摄脚本   │  │  视频生成   │  │  一键发布   │            │
│   │   生成器    │  │             │  │             │            │
│   │             │  │             │  │             │            │
│   │  [开始使用] │  │  [开始使用] │  │  [开始使用] │            │
│   └─────────────┘  └─────────────┘  └─────────────┘            │
│                                                                 │
├─────────────────────────────────────────────────────────────────┤
│   ⚙️ 快捷设置                                                    │
│   ┌─────────────────────────────────────────────────────────┐  │
│   │  当前配置：珠宝行业专用                    [修改设置]    │  │
│   │  语音：温柔女声 | 转场：淡入淡出 | 字幕：思源宋体        │  │
│   └─────────────────────────────────────────────────────────┘  │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### 侧边栏简化

**改造后（简洁）**：

```
┌──────────────┐
│  [Logo]      │
├──────────────┤
│  🏠 首页     │
│  📝 拍摄脚本 │
│  🎬 视频生成 │
│  🎞️ 批量混剪 │
│  📤 一键发布 │
├──────────────┤
│  ⚙️ 设置     │
│  🌙 主题切换 │
└──────────────┘
```

---

## 📋 开发任务拆解

> **时间限制**：2025年12月26日 23:00 - 2025年12月27日 12:00（约13小时）
>
> **开发模式**：AI 主导，快速迭代

### Sprint 1：基础架构（预计 2 小时）

- [ ] 创建 `assets/` 目录，移动 logo.png
- [ ] 创建 `styles/custom.css` 样式文件
- [ ] 修改 `.streamlit/config.toml` 配置主题
- [ ] 创建 `prompts/` 目录和 Prompt 模板
- [ ] 创建 `config/jewelry_presets.yml` 预设配置

### Sprint 2：首页改造（预计 2 小时）

- [ ] 改造 `gui.py`：品牌化首页
- [ ] 添加 Logo 展示
- [ ] 添加主题切换功能
- [ ] 简化导航结构
- [ ] 添加快捷设置卡片

### Sprint 3：新增功能（预计 3 小时）

- [ ] 创建 `pages/00_script_generator.py` 拍摄脚本生成器
- [ ] 编写珠宝行业 Prompt 模板
- [ ] 实现 LLM 调用和脚本生成
- [ ] 添加脚本复制和跳转功能

### Sprint 4：页面美化（预计 3 小时）

- [ ] 美化 `pages/01_auto_video.py`
- [ ] 美化 `pages/02_mix_video.py`
- [ ] 美化 `pages/02_merge_video.py`
- [ ] 美化 `pages/03_auto_publish.py`
- [ ] 统一组件样式

### Sprint 5：测试收尾（预计 2 小时）

- [ ] 功能测试
- [ ] 样式微调
- [ ] 修复 Bug
- [ ] 更新使用指南

---

## ⚠️ 待确认事项

| 序号 | 事项                     | 状态                 |
| ---- | ------------------------ | -------------------- |
| 1    | Logo 文件                | ✅ 已提供 `/logo.png` |
| 2    | 品牌色（金色 `#D4AF37`） | ⏳ 待确认             |
| 3    | LLM 服务选择             | ⏳ 待确认             |
| 4    | 语音偏好（女声/男声）    | ⏳ 待确认             |

---

## 📝 版本记录

| 版本 | 日期       | 说明                                                         |
| ---- | ---------- | ------------------------------------------------------------ |
| v0.1 | 2025-12-26 | 初稿                                                         |
| v0.2 | 2025-12-26 | 更新：一键发布保留全部平台、调整开发时间表、添加项目整理方案 |

---

*开发进行中...*
